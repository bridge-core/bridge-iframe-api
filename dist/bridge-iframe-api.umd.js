(function(n,t){typeof exports=="object"&&typeof module!="undefined"?t(exports):typeof define=="function"&&define.amd?define(["exports"],t):(n=typeof globalThis!="undefined"?globalThis:n||self,t(n.BridgeIframeAPI={}))})(this,function(n){"use strict";function t(e,r,i=window.top){const o=p(e,r,i);return new Promise((d,g)=>{const s=u=>{const{type:w,uuid:c,error:f,payload:y}=u.data;if(!(w!=="response"||c!==o)){if(f){g(f);return}globalThis.removeEventListener("message",s),d(y)}};globalThis.addEventListener("message",s)})}function p(e,r,i=window.top){if(!i)throw new Error("A trigger target is required");const o=crypto.randomUUID();return i.postMessage({type:e,uuid:o,origin:window.origin,payload:r},"*"),o}function a(e,r,i=window.top){if(e==="response")throw new Error("The response event type is reserved for internal use.");globalThis.addEventListener("message",o=>{const{type:d,origin:g,uuid:s,payload:u}=o.data;d===e&&r(u,g,l(s,i))})}function l(e,r=window.top){if(!r)throw new Error("A response target is required");return i=>{r.postMessage({type:"response",uuid:e,origin:window.origin,payload:i},"*")}}a("openWithFile",(e,r,i)=>{i(e)}),n.on=a,n.simpleTrigger=p,n.trigger=t,Object.defineProperties(n,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
